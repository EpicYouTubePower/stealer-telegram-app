<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Login</title>
    <!-- ПОДКЛЮЧАЕМ СКРИПТ ТЕЛЕГРАМА -->
    <script src="https://telegram.org"></script>
    <style>
        body { font-family: sans-serif; text-align: center; padding-top: 50px; background-color: #fff; }
        h2 { font-weight: bold; margin-bottom: 20px; }
        input { width: 80%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; font-size: 16px; margin-bottom: 20px; }
        button { width: 85%; padding: 12px; background-color: #0088cc; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; }
        button:active { background-color: #0077b5; }
    </style>
</head>
<body>

    <h2>Введите номер телефона</h2>
    
    <!-- Добавили id="phone", чтобы скрипт мог найти номер -->
    <input type="text" id="phone" value="+79133681204" placeholder="+7...">
    
    <!-- Добавили onclick, который запускает отправку -->
    <button onclick="sendPhoneNumber()">Продолжить</button>

   <script>
    const tg = window.Telegram.WebApp;

    function sendPhoneNumber() {
        try {
            const phoneInput = document.getElementById('phone').value;

            // Проверка, инициализирован ли объект Telegram
            if (!tg) {
                alert("Ошибка: Telegram WebApp не инициализирован. Вы открыли приложение через кнопку клавиатуры?");
                return;
            }

            // Отправляем данные
            tg.sendData("phone:" + phoneInput);
            
            // Если данные ушли, окно закроется само
            tg.close(); 
        } catch (e) {
            alert("Ошибка в скрипте: " + e.message);
        }
    }

    // Сообщаем телеграму, что приложение готово
    tg.ready();
    tg.expand();
</script>

</body>
</html>

